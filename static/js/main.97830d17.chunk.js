(this["webpackJsonpreact-got-service"]=this["webpackJsonpreact-got-service"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),i=n(29),s=n.n(i),o=n(7),u=n(8),l=n(13),j=n(12),h=n(4),d=n(51),b=n(52),f=n(50),p=n(5),x=n(18);function O(){var e=Object(h.a)(["\n    display: flex;\n    margin: 0;\n    align-items: center;\n    color: #fff;\n    list-style-type: none;\n    li {\n        margin-right: 20px;\n        font-size: 18px;\n        @media (max-width: 400px) {\n            font-size 15px;\n            margin-right: 5px;\n        }\n    }\n"]);return O=function(){return e},e}function m(){var e=Object(h.a)(["\n    font-size: 24px;\n    color: #fff;\n    margin: 0;\n\n    @media (max-width: 420px) {\n        font-size 15px;\n    }\n"]);return m=function(){return e},e}function g(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 80px;\n"]);return g=function(){return e},e}var v=p.a.div(g()),k=p.a.h3(m()),w=p.a.ul(O()),y=function(){return Object(r.jsxs)(v,{children:[Object(r.jsx)(k,{children:Object(r.jsx)(x.b,{to:"/GOT-API-Service/",children:"Game of Thrones DB"})}),Object(r.jsxs)(w,{children:[Object(r.jsx)("li",{children:Object(r.jsx)(x.b,{to:"/GOT-API-Service/characters/",children:"Characters"})}),Object(r.jsx)("li",{children:Object(r.jsx)(x.b,{to:"/GOT-API-Service/houses/",children:"Houses"})}),Object(r.jsx)("li",{children:Object(r.jsx)(x.b,{to:"/GOT-API-Service/books/",children:"Books"})})]})]})},S=n(11),C=n.n(S),D=n(19),I=function(){function e(){var t=this;Object(o.a)(this,e),this.getResource=function(){var e=Object(D.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(n,", status: ").concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(D.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters?page=5&pageSize=10");case 2:return n=e.sent,e.abrupt("return",n.map(t._transformCharacter.bind(t)));case 4:case"end":return e.stop()}}),e)}))),this.getCharacter=function(){var e=Object(D.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformCharacter(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllBooks=Object(D.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/");case 2:return n=e.sent,e.abrupt("return",n.map(t._transformBook.bind(t)));case 4:case"end":return e.stop()}}),e)}))),this.getBook=function(){var e=Object(D.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformBook(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllHouses=Object(D.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/");case 2:return n=e.sent,console.log(n),e.abrupt("return",n.map(t._transformHouse.bind(t)));case 5:case"end":return e.stop()}}),e)}))),this.getHouse=function(){var e=Object(D.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformHouse(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.checkData=function(e){return""===e?e="No Data":e},this._apiBase="https://www.anapioficeandfire.com/api"}return Object(u.a)(e,[{key:"_transformCharacter",value:function(e){return{id:parseInt(this.checkData(e.url).match(/\d+/)),name:this.checkData(e.name),gender:this.checkData(e.gender),born:this.checkData(e.born),died:this.checkData(e.died),culture:this.checkData(e.culture)}}},{key:"_transformHouse",value:function(e){return{id:parseInt(this.checkData(e.url).match(/\d+/)),name:this.checkData(e.name),region:this.checkData(e.region),words:this.checkData(e.words),titles:this.checkData(e.titles),overlord:this.checkData(e.overlord),ancestralWeapons:this.checkData(e.ancestralWeapons)}}},{key:"_transformBook",value:function(e){return{id:parseInt(this.checkData(e.url).match(/\d+/)),name:this.checkData(e.name),numberOfPages:this.checkData(e.numberOfPages),publisher:this.checkData(e.publisher),released:this.checkData(e.released)}}}]),e}(),N=(n(45),function(){return Object(r.jsx)("div",{className:"loadingio-spinner-gear-cr6seti4z",children:Object(r.jsx)("div",{className:"ldio-i5w2beqq8dr",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})})});function A(){var e=Object(h.a)(["\nmax-width: 90px;\n"]);return A=function(){return e},e}var B=p.a.img(A()),_=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{src:"/GOT-API-Service/img/error.jpg",alt:"error"}),Object(r.jsx)("span",{children:" Woops, something goes wrong \xaf\\_(\u30c4)_/\xaf"})]})},R=n.p+"static/media/close-btn.7e2a977d.svg",P=n(53);function H(){var e=Object(h.a)(["\nfont-weight: bold;\n"]);return H=function(){return e},e}function T(){var e=Object(h.a)(["\nmax-width: 15px;\n"]);return T=function(){return e},e}function G(){var e=Object(h.a)(["align-items: center;\nposition: absolute;\ntop: 5px;\nright: 25px;\ncursor: pointer;\n"]);return G=function(){return e},e}function z(){var e=Object(h.a)(["\nbackground-color: #fff;\npadding: 25px 25px 15px 25px;\nmargin-bottom: 30px;\nborder-radius: 5px;\nh4 {\n    margin-bottom: 20px;\n    text-align: center;\n}\n"]);return z=function(){return e},e}var W=p.a.div(z()),E=p.a.div(G()),M=p.a.img(T()),L=p.a.span(H()),F=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).gotService=new I,e.state={char:{},loading:!0,error:!1,flag:!1},e.onCharLoaded=function(t){e.setState({char:t,loading:!1})},e.onError=function(t){e.setState({error:!0,loading:!1})},e.updateChar=function(){var t=Math.floor(25+116*Math.random());e.gotService.getCharacter(t).then(e.onCharLoaded).catch(e.onError)},e.toggleRChr=function(){e.setState((function(e){return{flag:!e.flag}}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateChar(),this.timerId=setInterval(this.updateChar,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.state,t=e.char,n=e.loading,c=e.error;if(e.flag)return Object(r.jsx)(P.a,{color:"secondary",onClick:this.toggleRChr,children:"Show random character"});var a=c?Object(r.jsx)(_,{}):null,i=n?Object(r.jsx)(N,{}):null,s=n||c?null:Object(r.jsx)(U,{char:t});return Object(r.jsxs)(W,{children:[Object(r.jsxs)(E,{onClick:this.toggleRChr,children:["  ",Object(r.jsx)(M,{src:R})," "]}),a,i,s]})}}]),n}(c.Component),U=function(e){var t=e.char,n=t.name,c=t.gender,a=t.born,i=t.died,s=t.culture;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("h4",{children:["Random Character: ",n]}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(r.jsx)(L,{children:"Gender "}),Object(r.jsx)("span",{children:c})]}),Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(r.jsx)(L,{children:"Born "}),Object(r.jsx)("span",{children:a})]}),Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(r.jsx)(L,{children:"Died "}),Object(r.jsx)("span",{children:i})]}),Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(r.jsx)(L,{children:"Culture "}),Object(r.jsx)("span",{children:s})]})]})]})},q=F,J=n(22);function V(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    padding-left: 0;\n    margin-bottom: 0;\n    border-radius: .25rem;\n    margin-top: 10px;\n    box-sizing: border-box;\n    cursor: pointer;\n    \n"]);return V=function(){return e},e}function K(){var e=Object(h.a)(["\nbackground-color: #fff;\npadding: 25px 25px 15px 25px;\nmargin-bottom: 30px;\nborder-radius: 5px;\n"]);return K=function(){return e},e}var Q=p.a.div(K()),X=p.a.ul(V());var Y=function(e){var t=e.getData,n=e.onItemSelected,a=e.renderItem,i=Object(c.useState)([]),s=Object(J.a)(i,2),o=s[0],u=s[1],l=Object(c.useState)(!1),j=Object(J.a)(l,2),h=j[0],d=j[1],b=Object(c.useState)(!1),f=Object(J.a)(b,2),p=f[0],x=f[1];if(Object(c.useEffect)((function(){d(!0),t().then((function(e){u(e),d(!1)})).catch((function(){return x(!0)}))}),[]),p)return Object(r.jsx)(_,{});if(!o||h)return Object(r.jsx)(Q,{children:Object(r.jsx)(N,{})});var O=o.map((function(e){var t=e.id,c=a(e);return Object(r.jsx)("li",{className:"list-group-item",onClick:function(){return n(e.id)},children:c},t)}));return Object(r.jsx)(X,{children:O})};function Z(){var e=Object(h.a)(["\ncolor: #fff;\ntext-align: center;\nfont-size: 26px;\n"]);return Z=function(){return e},e}function $(){var e=Object(h.a)(["\nfont-weight: bold;\n"]);return $=function(){return e},e}function ee(){var e=Object(h.a)(["\nbackground-color: #fff;\npadding: 25px 25px 15px 25px;\nmargin-top: 10px;\nmargin-bottom: 40px;\nborder-radius: 5px;\n    h4 {\n        margin-bottom: 20px;\n        text-align: center;\n    }\n"]);return ee=function(){return e},e}var te=p.a.div(ee()),ne=p.a.span($()),re=p.a.span(Z()),ce=function(e){var t=e.item,n=e.field,c=e.label;return Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(r.jsx)(ne,{children:c}),Object(r.jsx)("span",{children:t[n]})]})},ae=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).gotService=new I,e.onCharDetailsLoaded=function(t){e.setState({item:t,loading:!1})},e.state={item:null,loading:!0,error:!0},e._isMounted=!1,e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"updateItem",value:function(){var e=this,t=this.props,n=t.getData,r=t.itemId;r&&(this._isMounted=!0,this._isMounted&&(this.setState({loading:!0}),n(r).then(this.onCharDetailsLoaded).catch((function(){return e.onError()}))))}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.updateItem()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"onError",value:function(){this.setState({item:null,error:!0})}},{key:"render",value:function(){if(!this.state.item)return Object(r.jsx)(re,{children:"Please, select an item"});var e=this.state.item,t=e.name;return this.state.loading?Object(r.jsx)(te,{children:Object(r.jsx)(N,{})}):Object(r.jsxs)(te,{children:[Object(r.jsx)("h4",{children:t}),Object(r.jsx)("ul",{className:"list-group list-group-flush",children:a.a.Children.map(this.props.children,(function(t){return a.a.cloneElement(t,{item:e})}))})]})}}]),n}(c.Component),ie=function(e){var t=e.left,n=e.right;return Object(r.jsxs)(f.a,{children:[Object(r.jsx)(d.a,{md:"6",children:t}),Object(r.jsx)(d.a,{md:"6",children:n})]})},se=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).gotService=new I,e.state={selectedChar:41,error:!1},e.onItemSelected=function(t){e.setState({selectedChar:t})},e}return Object(u.a)(n,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){if(this.state.error)return Object(r.jsx)(_,{});var e=Object(r.jsx)(Y,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllCharacters,renderItem:function(e){return"".concat(e.name," (").concat(e.gender,")")}}),t=Object(r.jsxs)(ae,{itemId:this.state.selectedChar,getData:this.gotService.getCharacter,children:[Object(r.jsx)(ce,{field:"gender",label:"Gender"}),Object(r.jsx)(ce,{field:"born",label:"Born"}),Object(r.jsx)(ce,{field:"died",label:"Died"}),Object(r.jsx)(ce,{field:"culture",label:"Culture"})]});return Object(r.jsx)(ie,{left:e,right:t})}}]),n}(c.Component),oe=n(6),ue=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).gotService=new I,e.state={selectedBook:1,error:!1},e.onItemSelected=function(t){e.setState({selectedBook:t})},e}return Object(u.a)(n,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;if(this.state.error)return Object(r.jsx)(_,{});var t=Object(r.jsx)(Y,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllBooks,renderItem:function(e){return"".concat(e.name," ")}}),n=Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ae,{itemId:this.state.selectedBook,getData:this.gotService.getBook,children:[Object(r.jsx)(ce,{field:"name",label:"Name"}),Object(r.jsx)(ce,{field:"numberOfPages",label:"Number of pages"}),Object(r.jsx)(ce,{field:"publisher",label:"Publisher"}),Object(r.jsx)(ce,{field:"released",label:"Released"})]}),Object(r.jsx)(P.a,{onClick:function(){e.props.history.push("".concat(e.state.selectedBook))},color:"secondary",children:"Show more info"})]});return Object(r.jsx)(ie,{left:t,right:n})}}]),n}(c.Component),le=Object(oe.f)(ue),je=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).gotService=new I,e.state={selectedHouse:1,error:!1},e.onItemSelected=function(t){e.setState({selectedHouse:t})},e}return Object(u.a)(n,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){if(this.state.error)return Object(r.jsx)(_,{});var e=Object(r.jsx)(Y,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllHouses,renderItem:function(e){return"".concat(e.name," ")}}),t=Object(r.jsxs)(ae,{itemId:this.state.selectedHouse,getData:this.gotService.getHouse,children:[Object(r.jsx)(ce,{field:"name",label:"Name"}),Object(r.jsx)(ce,{field:"region",label:"Region"}),Object(r.jsx)(ce,{field:"words",label:"Words"}),Object(r.jsx)(ce,{field:"titles",label:"Titles"}),Object(r.jsx)(ce,{field:"overlord",label:"Overlord"}),Object(r.jsx)(ce,{field:"ancestralWeapons",label:"Ancestral Weapons"})]});return Object(r.jsx)(ie,{left:e,right:t})}}]),n}(c.Component),he=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).gotService=new I,e}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(ae,{itemId:this.props.bookId,getData:this.gotService.getBook,children:[Object(r.jsx)(ce,{field:"name",label:"Name"}),Object(r.jsx)(ce,{field:"numberOfPages",label:"Number of pages"}),Object(r.jsx)(ce,{field:"publisher",label:"Publisher"}),Object(r.jsx)(ce,{field:"released",label:"Released"})]})}}]),n}(c.Component);function de(){var e=Object(h.a)(["\nbackground-color: #fff;\npadding: 25px 25px 15px 25px;\nmargin-bottom: 30px;\nborder-radius: 5px;\n\nh4 {\n    margin-bottom: 20px;\n    text-align: center;\n}\n"]);return de=function(){return e},e}var be=p.a.div(de()),fe=function(){return Object(r.jsxs)(be,{children:[Object(r.jsx)("h4",{children:"404, That's an error."}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsx)("li",{className:"list-group-item d-flex justify-content-between",children:Object(r.jsx)("span",{children:"The requested URL /nonexistet was not found on this server. "})}),Object(r.jsx)("li",{className:"list-group-item d-flex justify-content-between",children:Object(r.jsx)("span",{children:"That\u2019s all we know."})})]})]})};n(46);function pe(){var e=Object(h.a)(["\nbackground-color: #fff;\npadding: 25px 25px 15px 25px;\nmargin-bottom: 30px;\nborder-radius: 5px;\nh4 {\n    margin-bottom: 20px;\n    text-align: center;\n}\n"]);return pe=function(){return e},e}var xe=p.a.div(pe()),Oe=function(e){e.left,e.right;return Object(r.jsx)(d.a,{md:"6",children:Object(r.jsxs)(xe,{children:[Object(r.jsx)("h4",{children:"Welcome to the GOT DB"}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsx)("li",{className:"list-group-item d-flex justify-content-between",children:Object(r.jsx)("span",{children:"Here you can find information about the heroes and their homes, as well as about the books of this universe."})}),Object(r.jsx)("li",{className:"list-group-item d-flex justify-content-between",children:Object(r.jsx)("span",{children:"All the data from free API of Ice And Fire."})}),Object(r.jsx)("li",{className:"list-group-item d-flex justify-content-between",children:Object(r.jsx)("a",{href:"https://anapioficeandfire.com/",children:"Visit the site"})})]})]})})},me=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).gotService=new I,e.state={error:!1},e}return Object(u.a)(n,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(r.jsx)(_,{}):Object(r.jsx)(x.a,{children:Object(r.jsxs)("div",{className:"app",children:[Object(r.jsx)(b.a,{children:Object(r.jsx)(y,{})}),Object(r.jsx)(b.a,{children:Object(r.jsxs)(oe.c,{children:[Object(r.jsx)(oe.a,{path:"/GOT-API-Service/",exact:!0,render:function(){return Object(r.jsxs)(f.a,{children:[Object(r.jsx)(Oe,{}),Object(r.jsx)(d.a,{lg:{size:5,offset:0},children:Object(r.jsx)(q,{})})]})}}),Object(r.jsx)(oe.a,{path:"/characters",component:se}),Object(r.jsx)(oe.a,{path:"/houses",component:je}),Object(r.jsx)(oe.a,{path:"/books",exact:!0,component:le}),Object(r.jsx)(oe.a,{path:"/books/:id",render:function(e){var t=e.match.params.id;return Object(r.jsx)(he,{bookId:t})}}),Object(r.jsx)(oe.a,{render:function(){return Object(r.jsx)(fe,{})}})]})})]})})}}]),n}(c.Component);n(47),n(48);s.a.render(Object(r.jsx)(me,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.97830d17.chunk.js.map